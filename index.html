<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Adopt a Gnome - Gnome1.0</title>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'MedievalSharp', cursive;
            /* Added subtle background pattern overlay */
            background: linear-gradient(to bottom, #4a3e3e, #2a1e1e), 
                        url('https://example.com/subtle-forest-pattern.png');
            background-repeat: repeat;
            background-size: cover;
            background-blend-mode: multiply;
            color: #f0dbc3;
            text-align: center;
            margin: 0;
            padding: 0;
        }

        .hero {
            padding: 40px 20px;
        }

        .hero h1 {
            font-size: 3em;
            color: #c4a46c;
            text-shadow: 3px 3px 5px #000;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.5em;
            margin: 20px 0;
        }

        .hero .links {
            margin-top: 20px;
        }

        .hero a {
            color: #c4a46c;
            text-decoration: none;
            font-size: 1.2em;
            margin: 0 10px;
            transition: color 0.3s;
        }

        /* Add a mushroom icon before the navigation links */
        .hero a[href="#how-it-works"]::before {
            content: "üçÑ ";
        }
        .hero a[href="#gnome-lore"]::before {
            content: "üçÑ ";
        }

        .hero a:hover {
            color: #e0c580;
        }

        .generator {
            margin: 30px 0;
            padding: 20px;
            background: #5c4c4c;
            border: 2px solid #c4a46c;
            border-radius: 15px;
            display: inline-block;
        }

        .generator input {
            font-size: 1.2em;
            padding: 10px;
            width: 300px;
            margin: 10px;
            border-radius: 10px;
            border: 1px solid #444;
        }

        .generator button {
            font-size: 1.2em;
            padding: 10px 20px;
            background: #c4a46c;
            color: #2a1e1e;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .generator button:hover {
            background: #e0c580;
        }

        .loading-container {
            display: none;
            margin: 20px auto;
        }

        .loading-text {
            color: #c4a46c;
            font-size: 1.5em;
            margin-top: 10px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #4a3e3e;
            border-top: 5px solid #c4a46c;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .gnome-showcase {
            margin: 50px 0;
        }

        .gnome-showcase h2 {
            color: #c4a46c;
        }

        .gnome {
            display: inline-block;
            margin: 20px;
            padding: 15px;
            border: 2px solid #444;
            border-radius: 10px;
            background: #333;
            color: #c4a46c;
            text-align: left;
            font-size: 1em;
            white-space: pre;
            overflow-x: auto;
            position: relative;
            width: 300px;
        }

        .gnome p {
            margin: 5px 0;
        }

        .download-btn, .share-btn {
            margin-top: 10px;
            font-size: 1em;
            padding: 8px 16px;
            background: #c4a46c;
            color: #2a1e1e;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            display: inline-block;
            margin-right: 10px;
            transition: background 0.3s;
        }

        .download-btn:hover, .share-btn:hover {
            background: #e0c580;
        }

        .share-btn {
            background: #1DA1F2; /* Twitter Blue */
            color: #fff;
        }

        .share-btn:hover {
            background: #40a9f3;
        }

        .info-section {
            max-width: 800px;
            margin: 50px auto;
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 10px;
            text-align: left;
        }

        .info-section h2 {
            text-align: center;
            color: #c4a46c;
            margin-bottom: 20px;
        }

        /* Add a mushroom icon before "Gnome Lore & Myths" section title */
        #gnome-lore h2::before {
            content: "üçÑ ";
        }

        .info-section h3 {
            color: #c4a46c;
            margin-top: 30px;
        }

        .info-section p {
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .info-section ol {
            margin-left: 20px;
            margin-bottom: 20px;
            list-style: none; /* Remove default bullets */
            padding: 0;
        }

        /* Add mushroom icons to "How It Works" steps */
        .info-section ol li::before {
            content: "üçÑ ";
            margin-right: 5px;
        }

        .lore-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .lore-item {
            background: #444;
            padding: 15px;
            border-radius: 10px;
            color: #f0dbc3;
        }

        .lore-item h4 {
            margin-top: 0;
            color: #c4a46c;
        }

        footer {
            padding: 20px 0;
            background: #2a1e1e;
            color: #888;
            margin-top: 50px;
        }

        @media (max-width: 600px) {
            .gnome {
                width: 90%;
            }

            .generator input {
                width: 80%;
            }

            .lore-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>Adopt a Gnome</h1>
        <p>Enter your Solana wallet address below and discover your special gnome companion!</p>
        <div class="links">
            <a href="#how-it-works">How It Works</a>
            <a href="#gnome-lore">Gnome Lore & Myths</a>
        </div>
    </div>

    <div class="generator">
        <label for="wallet-address" style="display:none;">Wallet Address</label>
        <input type="text" id="wallet-address" placeholder="Enter your Solana wallet address...">
        <button id="generate-button">Generate My Gnome</button>
    </div>

    <div class="loading-container" id="loading-container">
        <div class="spinner"></div>
        <p class="loading-text">Summoning Your Gnome...</p>
    </div>

    <div class="gnome-showcase" id="gnome-showcase">
        <h2>Your Gnome Companion</h2>
        <!-- Generated gnome will appear here -->
    </div>

    <!-- How It Works Section -->
    <div class="info-section" id="how-it-works">
        <h2>How It Works</h2>
        <p>Each gnome is uniquely generated from the wallet address you provide. Here's a simple breakdown:</p>
        <ol>
            <li><strong>Wallet Address Input:</strong> You enter your Solana wallet address above.</li>
            <li><strong>Hashing Process:</strong> The address transforms into a numerical value using a special hashing function.</li>
            <li><strong>Attribute Assignment:</strong> This determines the gnome‚Äôs type, cap color, personality trait, accessory, and "whimsy level."</li>
            <li><strong>Deterministic Results:</strong> The same wallet address always yields the same gnome, ensuring uniqueness.</li>
        </ol>
        <p>This approach blends randomness with consistency, giving you a unique digital friend tied directly to your address.</p>
    </div>

    <!-- Gnome Lore & Myths Section -->
    <div class="info-section" id="gnome-lore">
        <h2>Gnome Lore & Myths</h2>
        <p>Long before humans charted the forests and fields, the gnomes made their quiet homes beneath twisting roots and blooming mushrooms. They are caretakers of nature‚Äôs secrets, keepers of runic wisdom, and crafters of wondrous tools. Each gnome community embraces different trades, ensuring balance and harmony in their hidden world.</p>

        <p>In these enchanted groves, gnomes cultivate rare fungi, hum ancient melodies, and record cosmic prophecies. Some wander far, collecting stories from distant lands, while others stay rooted, tending to gardens that only blossom under moonlight. Here are some of the known gnome archetypes:</p>

        <div class="lore-grid">
            <div class="lore-item">
                <h4>Garden Keeper</h4>
                <p>Nurturers of flora, helping mystical plants to bloom. Patient and green-thumbed, they ensure each bud thrives.</p>
            </div>
            <div class="lore-item">
                <h4>Rune Reader</h4>
                <p>Scholars of ancient symbols, decoding magical runes, guiding lost souls, and revealing hidden paths.</p>
            </div>
            <div class="lore-item">
                <h4>Mushroom Mystic</h4>
                <p>Enigmatic brewers of fungal elixirs, blending dreams and reality in their secret concoctions.</p>
            </div>
            <div class="lore-item">
                <h4>Tinker</h4>
                <p>Clever inventors, crafting tiny gadgets and contraptions from forest treasures.</p>
            </div>
            <div class="lore-item">
                <h4>Forager</h4>
                <p>Adventurous gatherers who roam the undergrowth in search of rare ingredients and hidden bounty.</p>
            </div>
            <div class="lore-item">
                <h4>Shaman</h4>
                <p>Spiritual guides attuned to nature‚Äôs energies, channeling them through protective totems and rituals.</p>
            </div>
            <div class="lore-item">
                <h4>Brewer</h4>
                <p>Flavorful experimenters who create brews to soothe, inspire, or ignite imaginative tales.</p>
            </div>
            <div class="lore-item">
                <h4>Woodcarver</h4>
                <p>Artisans shaping forest wood into intricate artworks, each carving whispering silent stories.</p>
            </div>
            <div class="lore-item">
                <h4>Miner</h4>
                <p>Hardy explorers of the underground, unearthing luminous minerals and hidden gems.</p>
            </div>
            <div class="lore-item">
                <h4>Fungus Farmer</h4>
                <p>Dedicated cultivators ensuring a steady supply of mushrooms for delicacies and healing brews.</p>
            </div>
            <div class="lore-item">
                <h4>Wanderer</h4>
                <p>Nomadic spirits who carry a staff and a story, mapping lands beyond the gnome homeland.</p>
            </div>
            <div class="lore-item">
                <h4>Bard</h4>
                <p>Musical storytellers whose songs echo through the grove, preserving gnome history and culture.</p>
            </div>
        </div>

        <h3>Rarity and Collectibility</h3>
        <p>Among these archetypes lie subtle differences‚Äîrare cap colors, unusual accessories, and extraordinary traits. Some gnomes appear only under a full moon, making them prized among collectors. Keep exploring with different addresses to discover these rarities!</p>
    </div>

    <footer>
        ¬© 2024 Adopt a Gnome | Mushroom Mischief Awaits
    </footer>

    <script>
    (function() {
        // DOM Elements
        const walletInput = document.getElementById('wallet-address');
        const generateButton = document.getElementById('generate-button');
        const gnomeShowcase = document.getElementById('gnome-showcase');
        const loadingContainer = document.getElementById('loading-container');

        // Gnome Generation Configuration
        const GNOME_TYPES = [
            {
                type: 'Garden Keeper',
                traits: ['Nurturing', 'Green-Thumbed', 'Patient'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  | * |
 [Spade]
                `
            },
            {
                type: 'Rune Reader',
                traits: ['Wise', 'Mystical', 'Arcane'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  |<|>|
 [Runes]
                `
            },
            {
                type: 'Tinker',
                traits: ['Inventive', 'Clever', 'Resourceful'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  | O |
 [Gears]
                `
            },
            {
                type: 'Forager',
                traits: ['Adventurous', 'Agile', 'Curious'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  |U U|
 [Basket]
                `
            },
            {
                type: 'Mushroom Mystic',
                traits: ['Enigmatic', 'Fungal', 'Dreamy'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  |m m|
 [Shroom]
                `
            },
            {
                type: 'Woodcarver',
                traits: ['Artistic', 'Steady-Handed', 'Focused'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  |=|=|
 [Chisel]
                `
            },
            {
                type: 'Brewer',
                traits: ['Creative', 'Experimental', 'Flavorful'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  |~ ~|
 [Brew]
                `
            },
            {
                type: 'Shaman',
                traits: ['Spiritual', 'Natural', 'Harmonic'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  | T |
 [Totem]
                `
            },
            {
                type: 'Miner',
                traits: ['Hardy', 'Stalwart', 'Resilient'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  | Y |
 [Pickaxe]
                `
            },
            {
                type: 'Fungus Farmer',
                traits: ['Diligent', 'Quiet', 'Persistent'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  | n |
 [Hoe]
                `
            },
            {
                type: 'Wanderer',
                traits: ['Nomadic', 'Explorer', 'Free-Spirited'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  | S |
 [Staff]
                `
            },
            {
                type: 'Bard',
                traits: ['Musical', 'Charismatic', 'Creative'],
                art: `
   /\\
  /  \\
 ( o.o )
  | ^ |
  | & |
 [Lute]
                `
            }
        ];

        const COLORS = ['Red-Capped', 'Blue-Capped', 'Green-Capped', 'Brown-Capped', 'Purple-Capped', 'Grey-Capped', 'Silver-Capped', 'Golden-Capped', 'Orange-Capped', 'Teal-Capped'];
        const ACCESSORIES = ['Spade', 'Runes', 'Gears', 'Basket', 'Shroom', 'Chisel', 'Brew', 'Totem', 'Pickaxe', 'Hoe', 'Staff', 'Lute'];

        // Wallet Address Validation
        function validateWalletAddress(address) {
            const solanaAddressRegex = /^[1-9A-HJ-NP-Za-km-z]{32,44}$/;
            return solanaAddressRegex.test(address);
        }

        // Hashing Function
        function hashAddress(address) {
            let hash = 0;
            for (let i = 0; i < address.length; i++) {
                const char = address.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Convert to 32-bit integer
            }
            return Math.abs(hash);
        }

        // Gnome Generation
        function generateGnome(hash) {
            const typeIndex = hash % GNOME_TYPES.length;
            const colorIndex = (hash >> 2) % COLORS.length;
            const accessoryIndex = (hash >> 4) % ACCESSORIES.length;
            const whimsyLevel = (hash % 100) + 1;

            const gnomeType = GNOME_TYPES[typeIndex];

            return {
                type: gnomeType.type,
                color: COLORS[colorIndex],
                accessory: ACCESSORIES[accessoryIndex],
                trait: gnomeType.traits[hash % gnomeType.traits.length],
                whimsyLevel: whimsyLevel,
                asciiArt: gnomeType.art
            };
        }

        // Show Loading
        function showLoading() {
            loadingContainer.style.display = 'block';
            gnomeShowcase.innerHTML = '<h2>Your Gnome Companion</h2>';
        }

        // Hide Loading
        function hideLoading() {
            loadingContainer.style.display = 'none';
        }

        // Display Gnome
        function displayGnome(gnome) {
            const gnomeCard = document.createElement('div');
            gnomeCard.className = 'gnome';
            gnomeCard.innerHTML = `
${gnome.asciiArt}
<p><strong>Type:</strong> ${gnome.type}</p>
<p><strong>Cap Color:</strong> ${gnome.color}</p>
<p><strong>Trait:</strong> ${gnome.trait}</p>
<p><strong>Accessory:</strong> ${gnome.accessory}</p>
<p><strong>Whimsy Level:</strong> ${gnome.whimsyLevel}/100</p>
            `;

            // Download Button
            const downloadButton = document.createElement('button');
            downloadButton.className = 'download-btn';
            downloadButton.textContent = 'Download Your Gnome';
            downloadButton.addEventListener('click', () => downloadGnome(gnome));

            // Share Button
            const shareButton = document.createElement('button');
            shareButton.className = 'share-btn';
            shareButton.textContent = 'Share on X';
            shareButton.addEventListener('click', () => shareOnX(gnome));

            gnomeCard.appendChild(downloadButton);
            gnomeCard.appendChild(shareButton);
            gnomeShowcase.appendChild(gnomeCard);
        }

        // Download Gnome Details
        function downloadGnome(gnome) {
            const gnomeDetails = `
Gnome Companion Details:
------------------------
Type: ${gnome.type}
Cap Color: ${gnome.color}
Trait: ${gnome.trait}
Accessory: ${gnome.accessory}
Whimsy Level: ${gnome.whimsyLevel}/100

Ascii Art:
${gnome.asciiArt}
            `;

            const blob = new Blob([gnomeDetails], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `${gnome.type}_Gnome.txt`;
            link.click();
        }

        // Share on X
        function shareOnX(gnome) {
            const gnomeDetails = `I just adopted a new gnome companion! üßô‚ú®

Type: ${gnome.type}
Cap Color: ${gnome.color}
Trait: ${gnome.trait}
Accessory: ${gnome.accessory}
Whimsy Level: ${gnome.whimsyLevel}/100

Join me in the world of gnomes! #AdoptaGnome #GNOM üçÑüå±

@AdoptaGnome`;

            const tweetUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(gnomeDetails)}`;
            window.open(tweetUrl, '_blank');
        }

        // Generate Button Event
        generateButton.addEventListener('click', () => {
            const walletAddress = walletInput.value.trim();

            if (!validateWalletAddress(walletAddress)) {
                alert('Please enter a valid Solana wallet address!');
                return;
            }

            showLoading();

            setTimeout(() => {
                const hash = hashAddress(walletAddress);
                const gnome = generateGnome(hash);

                hideLoading();
                displayGnome(gnome);
            }, 2000);
        });
    })();
    </script>
</body>
</html>
